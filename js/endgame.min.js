let endState={preload:preloadEndGame,create:createEndGame,update:updateEndGame},pressS,counting,showCounting;var intervalCounting;let btnBackToMenu;function preloadEndGame(){game.load.image("endBackground","assets/imgs/New enviroment/BackGrounds/endscreen_Background.jpg"),game.load.image("botonback","assets/imgs/New UI/PNG/Buttons/Back.png"),game.load.audio("Back_Click_Sound","assets/audio/Back_Click_Sound.wav")}function createEndGame(){let background=game.add.image(0,0,"endBackground"),textEnd1;textEnd1=defeated?game.add.text(55,100,"YOU DIED",style):game.add.text(55,100,"YOU WIN",style);let textEnd2=game.add.text(25,250,"Platforms traversed:\n"+PastPlatforms,style),textEnd3=game.add.text(25,400,"PRESS S TO PLAY \nAGAIN",style);btnBackToMenu=game.add.button(10,625,"botonback",BackToMenu),btnBackToMenu.scale.setTo(.9,.9),counting=15,showCounting=game.add.text(300,625,counting,style),showCounting.fontSize="80px",intervalCounting=setInterval((function(){counting--,showCounting.text=counting}),1e3),pressS=game.input.keyboard.addKey(Phaser.Keyboard.S)}function updateEndGame(){pressS.isDown&&(resetToStart(),game.state.start("play")),counting<=0&&BackToMenu()}function resetToStart(){clearInterval(intervalCounting),currentLevel=1,defeated=!1,PastPlatforms=0}function BackToMenu(){resetToStart(),back_click_sound.play(),game.state.start("start")}